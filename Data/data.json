{
  "globalVariables": {
    "g_i_score": 0,
    "g_i_totalCoins": 8
  },
  "controllers": [
    {
      "type": "Controller2D",
      "id": "Movement"
    },
    {
      "type": "ControllerButton",
      "id": "Jump",
      "keyCode": "Space"
    }
  ],
  "presets": {
    "player": {
      "tags": [
        "Player",
        "CameraTarget",
        "Gravity"
      ],
      "imagePrompt": "A cheerful, round, bouncy blue slime character with big friendly eyes, cartoon style",
      "color": "#4A90E2",
      "variables": {
        "f_moveSpeed": 6.0,
        "f_jumpForce": 14.0,
        "f_stompJumpForce": 9.0,
        "f_superJumpForce": 22.0,
        "e_hitTarget": null
      },
      "behaviorTree": {
        "type": "composite",
        "name": "Selector",
        "//": "플레이어의 모든 행동을 결정하는 최상위 노드. 위에서부터 순서대로 실행됩니다.",
        "children": [
          {
            "type": "composite",
            "name": "Sequence",
            "//": "1. 몬스터 밟기 (가장 높은 충돌 우선순위)",
            "children": [
              {
                "type": "condition",
                "name": "OnStomp",
                "tags": [
                  "Enemy"
                ],
                "outputTarget": "{e_hitTarget}"
              },
              {
                "type": "action",
                "name": "DestroyTarget",
                "target": "{e_hitTarget}"
              },
              {
                "type": "action",
                "name": "Jump",
                "jumpForce": "{f_stompJumpForce}"
              }
            ]
          },
          {
            "type": "composite",
            "name": "Sequence",
            "//": "2. 몬스터와 부딪혀 패배",
            "children": [
              {
                "type": "condition",
                "name": "OnHit",
                "tags": [
                  "Enemy"
                ]
              },
              {
                "type": "action",
                "name": "Lose"
              }
            ]
          },
          {
            "type": "composite",
            "name": "Sequence",
            "//": "3. 가시 함정에 닿아 패배",
            "children": [
              {
                "type": "condition",
                "name": "OnHit",
                "tags": [
                  "Spike"
                ]
              },
              {
                "type": "action",
                "name": "Lose"
              }
            ]
          },
          {
            "type": "composite",
            "name": "Sequence",
            "//": "4. 킬존에 닿아 패배",
            "children": [
              {
                "type": "condition",
                "name": "OnHit",
                "tags": [
                  "KillZone"
                ]
              },
              {
                "type": "action",
                "name": "Lose"
              }
            ]
          },
          {
            "type": "composite",
            "name": "Sequence",
            "//": "5. 코인 획득",
            "children": [
              {
                "type": "condition",
                "name": "OnHit",
                "tags": [
                  "Coin"
                ],
                "outputTarget": "{e_hitTarget}"
              },
              {
                "type": "action",
                "name": "IncreaseVariable",
                "variable": "{g_i_score}",
                "amount": 1
              },
              {
                "type": "action",
                "name": "DestroyTarget",
                "target": "{e_hitTarget}"
              }
            ]
          },
          {
            "type": "composite",
            "name": "Sequence",
            "//": "6. 점프 패드 사용",
            "children": [
              {
                "type": "condition",
                "name": "OnStomp",
                "tags": [
                  "JumpPad"
                ]
              },
              {
                "type": "action",
                "name": "Jump",
                "jumpForce": "{f_superJumpForce}"
              }
            ]
          },
          {
            "type": "composite",
            "name": "Sequence",
            "//": "7. 목표 지점 도달 시 승리 조건 확인",
            "children": [
              {
                "type": "condition",
                "name": "OnHit",
                "tags": [
                  "Goal"
                ]
              },
              {
                "type": "condition",
                "name": "CompareNumberVariable",
                "//": "현재 점수(모은 코인 수)가 총 코인 수와 같은지 확인합니다.",
                "variable": "{g_i_score}",
                "operator": "is_equal_to",
                "value": "{g_i_totalCoins}"
              },
              {
                "type": "action",
                "name": "Win",
                "//": "조건을 만족하면 게임에서 승리합니다."
              }
            ]
          },
          {
            "type": "composite",
            "name": "Sequence",
            "//": "8. 일반 점프 로직",
            "children": [
              {
                "type": "condition",
                "name": "IsOnGround"
              },
              {
                "type": "condition",
                "name": "IsButtonDown",
                "buttonId": "Jump"
              },
              {
                "type": "action",
                "name": "Jump",
                "jumpForce": "{f_jumpForce}"
              }
            ]
          },
          {
            "type": "action",
            "name": "MoveByController",
            "//": "9. 이동 로직 (다른 행동이 없을 때 항상 실행됨)",
            "controllerId": "Movement",
            "moveSpeed": "{f_moveSpeed}"
          }
        ]
      }
    },
    "monster": {
      "tags": [
        "Enemy",
        "Gravity"
      ],
      "imagePrompt": "A grumpy-looking, stationary, red-brown mushroom monster with short legs and a spiky cap, cartoon style",
      "color": "#D0021B",
      "variables": {},
      "behaviorTree": {}
    },
    "platform": {
      "tags": [
        "Ground",
        "Fixed"
      ],
      "imagePrompt": "A floating island platform covered in lush green grass with brown dirt visible underneath, cartoon style",
      "color": "#7ED321",
      "variables": {},
      "behaviorTree": {}
    },
    "coin": {
      "tags": [
        "Coin"
      ],
      "imagePrompt": "A shiny, spinning gold coin with a star embossed in the center, cartoon style",
      "color": "#F8E71C",
      "variables": {},
      "behaviorTree": {}
    },
    "spike": {
      "tags": [
        "Spike",
        "Fixed"
      ],
      "imagePrompt": "A sharp, menacing metal spike trap pointing upwards, cartoon style",
      "color": "#555555",
      "variables": {},
      "behaviorTree": {}
    },
    "jump_pad": {
      "tags": [
        "JumpPad",
        "Ground",
        "Fixed"
      ],
      "imagePrompt": "A bouncy-looking purple spring platform with a coiled spring visible, cartoon style",
      "color": "#9013FE",
      "variables": {},
      "behaviorTree": {}
    },
    "goal_flag": {
      "tags": [
        "Goal",
        "Fixed"
      ],
      "imagePrompt": "A checkered black and white finish line flag on a tall metal pole, cartoon style",
      "color": "#FFFFFF",
      "variables": {},
      "behaviorTree": {}
    },
    "kill_zone": {
      "tags": [
        "KillZone"
      ],
      "imagePrompt": "An invisible trigger zone, should not be rendered",
      "color": "#FF0000",
      "variables": {},
      "behaviorTree": {}
    }
  },
  "scenes": [
    {
      "id": "Level_1",
      "entities": [
        {
          "presetId": "player",
          "position": [
            -15,
            -3
          ]
        },
        {
          "presetId": "platform",
          "position": [
            -15,
            -5
          ],
          "comment": "Start platform"
        },
        {
          "presetId": "platform",
          "position": [
            -8,
            -4
          ]
        },
        {
          "presetId": "coin",
          "position": [
            -8,
            -3
          ]
        },
        {
          "presetId": "platform",
          "position": [
            0,
            -2
          ]
        },
        {
          "presetId": "monster",
          "position": [
            0,
            -1
          ]
        },
        {
          "presetId": "coin",
          "position": [
            3,
            3
          ]
        },
        {
          "presetId": "platform",
          "position": [
            3,
            2
          ],
          "comment": "Requires a good jump"
        },
        {
          "presetId": "platform",
          "position": [
            9,
            1
          ]
        },
        {
          "presetId": "jump_pad",
          "position": [
            9,
            2
          ],
          "comment": "To upper path"
        },
        {
          "presetId": "platform",
          "position": [
            9,
            10
          ],
          "comment": "Upper path high platform"
        },
        {
          "presetId": "coin",
          "position": [
            8,
            11
          ]
        },
        {
          "presetId": "coin",
          "position": [
            10,
            11
          ]
        },
        {
          "presetId": "platform",
          "position": [
            16,
            0
          ]
        },
        {
          "presetId": "spike",
          "position": [
            16,
            1
          ]
        },
        {
          "presetId": "platform",
          "position": [
            22,
            -1
          ],
          "comment": "Lower path"
        },
        {
          "presetId": "coin",
          "position": [
            22,
            0
          ]
        },
        {
          "presetId": "monster",
          "position": [
            25,
            0
          ]
        },
        {
          "presetId": "platform",
          "position": [
            25,
            -1
          ]
        },
        {
          "presetId": "coin",
          "position": [
            25,
            5
          ],
          "comment": "Tricky coin above monster"
        },
        {
          "presetId": "platform",
          "position": [
            30,
            2
          ]
        },
        {
          "presetId": "spike",
          "position": [
            32,
            3
          ]
        },
        {
          "presetId": "spike",
          "position": [
            33,
            3
          ]
        },
        {
          "presetId": "platform",
          "position": [
            35,
            2
          ],
          "comment": "Jump over spikes"
        },
        {
          "presetId": "coin",
          "position": [
            35,
            3
          ]
        },
        {
          "presetId": "platform",
          "position": [
            40,
            4
          ]
        },
        {
          "presetId": "coin",
          "position": [
            40,
            5
          ]
        },
        {
          "presetId": "goal_flag",
          "position": [
            40,
            5.5
          ]
        },
        {
          "presetId": "kill_zone",
          "position": [
            0,
            -12
          ]
        }
      ]
    }
  ],
  "assistant": "새로운 규칙이 추가된 '통통 슬라임의 점프 모험!' v2.0입니다! 이제 맵에 있는 **모든 코인(총 8개)을 모아야만** 마지막 깃발에 도달했을 때 승리할 수 있습니다. 또한, 길 곳곳에 닿으면 즉시 패배하는 무시무시한 **가시 함정**이 추가되었습니다. 더욱 세심한 컨트롤로 모든 코인을 모으고, 함정을 피해 슬라임의 모험을 완수하세요!"
}